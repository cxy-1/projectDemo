package com.sugon.humanface.util.mysql;import java.sql.Connection;import java.sql.DriverManager;import java.sql.SQLException;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Component;import lombok.extern.slf4j.Slf4j;/** * JDBC连接Mysql数据库 * @author wuyl * */@Slf4j@Componentpublic class MysqlJdbcUtil {	@Autowired	private MysqlProperties mysqlProperties;	static ThreadLocal<Connection> local = new ThreadLocal<Connection>();	/**	 * 获得连接	 * @return	 */	public  Connection get() {		if (local.get() == null) {			local.set(getConnection());		}		return local.get();	}	/**	 * 关闭连接	 */	public void close() {		if (null != local.get()) {			try {				local.get().close();			} catch (SQLException e) {				log.error(e.getMessage(),e);			} finally {				local.remove();			}			System.out.println("关闭连接");		}	}	private Connection getConnection() {		Connection conn = null;		try {			Class.forName(mysqlProperties.getDriver());			conn = DriverManager.getConnection(mysqlProperties.getUrl(), mysqlProperties.getUsername(), mysqlProperties.getPassword());		} catch (Exception e) {			log.error(e.getMessage(),e);		}		return conn;	}}