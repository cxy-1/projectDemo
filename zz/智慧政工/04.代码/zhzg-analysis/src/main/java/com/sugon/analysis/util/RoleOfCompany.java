package com.sugon.analysis.util;import com.sugon.analysis.domain.data.object.oracle.SysUserDo;import com.sugon.analysis.repository.oracle.SysUserDao;import org.springframework.stereotype.Component;import javax.annotation.Resource;import java.util.ArrayList;import java.util.Arrays;import java.util.List;/** * @author: create by huangxb * @version: v1.0 * @description: 根据人员获取相应的权限部门 * @date:2019/10/10 */@Componentpublic class RoleOfCompany {	private static SysUserDao sysUserDao;	@Resource	public void setSysUserDao(SysUserDao sysUserDao) {		RoleOfCompany.sysUserDao = sysUserDao;	}	private static String[] allDataRoles = new String[]{"6", "8", "9", "10","8aa1c2206ce071f1016ce096d4930077113436"};	private static String[] companyDataRoles = new String[]{"18", "19", "20", "22", "23"};	public static String isGetRoles(List<String> roles, String[] data) {		System.out.println("roles:" + roles);		List<String> result = new ArrayList<>();		for (String string : data) {			if (roles.contains(string)) {				result.add(string);			}		}		if (result.size() > 0) {			return "1";		} else {			return "0";		}	}	public static String getRoleCompanyId(String idNumber) {		List<SysUserDo> sysUser = sysUserDao.findAllByIdentitynumAndDelStatusAndPostType(idNumber, "0",0);		if(sysUser.size() >0) {			String roleIds = sysUser.get(0).getPersonRoles();			List<String> listString = Arrays.asList(roleIds.split(","));			String result = isGetRoles(listString, allDataRoles);			String resultCompany = isGetRoles(listString, companyDataRoles);			if ("1".equals(result)) {				//南京市公安局的代码				return "2014110416460086100000002942";			} else {				//如果是分局				if ("1".equals(resultCompany)) {					return sysUser.get(0).getUnitId();				} else {					return sysUser.get(0).getDeptId();				}			}		}		return "";	}}