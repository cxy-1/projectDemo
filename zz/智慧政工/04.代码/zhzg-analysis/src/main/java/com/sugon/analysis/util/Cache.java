package com.sugon.analysis.util;import com.alibaba.fastjson.JSON;import com.alibaba.fastjson.JSONObject;import com.sugon.analysis.domain.data.subset.CustomCache;import com.sugon.analysis.repository.mongodb.CacheRepository;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Component;import java.util.List;/** * ª∫¥Ê¿‡ * @Author: YeKX */@Componentpublic class Cache {    @Autowired    private static CacheRepository cacheRepository;    public static void save(String key, Object value) {        cacheRepository.save(new CustomCache(key, JSON.toJSONString(value)));    }    public static void delete(String key) {        cacheRepository.deleteByKey(key);    }    public static <T> T get(String key, Class<T> clazz) {        CustomCache one = cacheRepository.findByKey(key).orElse(null);        if (one != null) {            String value = one.getValue();            return JSONObject.parseObject(value, clazz);        }        return null;    }    public static <T> List<T> getList(String key, Class<T> clazz) {        CustomCache one = cacheRepository.findByKey(key).orElse(null);        if (one != null) {            String value = one.getValue();            return JSON.parseArray(value, clazz);        }        return null;    }    public static List<CustomCache> getCacheListByKeyLike(String keyLike) {        return cacheRepository.findByKeyLike(keyLike);    }    @Autowired    public void setCacheRepository(CacheRepository cacheRepository) {        Cache.cacheRepository = cacheRepository;    }}